build_dir: 17-mentor-calibre-gdsmerge
build_id: '17'
commands:
- mkdir -p $HOME/.calibrewb_workspace/tmp
- ins=""; for f in inputs/adk/*.gds*; do ins="$ins -in $f"; done
- echo | calibredrv -a layout filemerge \ -indir inputs \ $ins -topcell mult_16b_flopped
  \ -out design_merged.gds 2>&1 | tee merge.log
- mkdir -p outputs && cd outputs
- ln -sf ../design_merged.gds
debug:
- calibredrv -m design_merged.gds \ -l inputs/adk/calibre.layerprops
edges_i:
  adk:
  - f: adk
    step: 3-skywater-130nm
  design.gds.gz:
  - f: design.gds.gz
    step: 16-cadence-innovus-signoff
edges_o:
  design_merged.gds:
  - f: design_merged.gds
    step: 22-mentor-calibre-drc
  - f: design_merged.gds
    step: 23-mentor-calibre-lvs
inputs:
- design.gds.gz
- adk
name: mentor-calibre-gdsmerge
outputs:
- design_merged.gds
parameters:
  design_name: mult_16b_flopped
postconditions:
- assert File( 'outputs/design_merged.gds' )
- 'assert ''WARNING: Ignoring duplicate structure'' not in File( ''merge.log'' )'
preconditions:
- assert Tool( 'calibredrv' )
- assert File( 'inputs/design.gds.gz' )
source: /afs/ece.cmu.edu/usr/edubbers/private/CODESIGN_PROJ/BETTER_mflowgen/mflowgen/steps/mentor-calibre-gdsmerge
