#! /usr/bin/env bash
set -euo pipefail
#=========================================================================
# mflowgen-run
#=========================================================================
# Generator : /afs/ece.cmu.edu/usr/edubbers/private/CODESIGN_PROJ/BETTER_mflowgen/mflowgen/mflowgen/core/build_orchestrator.py

# Pre

rm -f .time_end
date +%Y-%m%d-%H%M-%S > .time_start
MFLOWGEN_STEP_HOME=$PWD
export design_name=mult_16b_flopped
export order=read_design.tcl,extract_model.tcl,write-interface-timing.tcl

# Commands

mkdir -p logs
pt_shell -file START.tcl -output_log_file logs/pt.log
mkdir -p outputs && cd outputs
ln -sf ../*.db  design.db
ln -sf ../*.lib design.lib

# Post

cd $MFLOWGEN_STEP_HOME
date +%Y-%m%d-%H%M-%S > .time_end

