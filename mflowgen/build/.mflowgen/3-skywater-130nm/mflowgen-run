#! /usr/bin/env bash
set -euo pipefail
#=========================================================================
# mflowgen-run
#=========================================================================
# Generator : /afs/ece.cmu.edu/usr/edubbers/private/CODESIGN_PROJ/BETTER_mflowgen/mflowgen/mflowgen/core/build_orchestrator.py

# Pre

rm -f .time_end
date +%Y-%m%d-%H%M-%S > .time_start
MFLOWGEN_STEP_HOME=$PWD
export adk=skywater-130nm
export adk_view=view-standard
export adk_version=0.0.0

# Commands

if [[ xview-standard == xview-standard ]]; then wget https://github.com/mflowgen/skywater-130nm/archive/v0.0.0.zip; unzip v0.0.0.zip; mv skywater-130nm-0.0.0/view-standard view-standard; fi
mkdir -p outputs && cd outputs
ln -sf ../view-standard adk

# Post

cd $MFLOWGEN_STEP_HOME
date +%Y-%m%d-%H%M-%S > .time_end

